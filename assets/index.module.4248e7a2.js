var h=Object.defineProperty;var a=(e,n)=>h(e,"name",{value:n,configurable:!0});import{r as c}from"./index.e35787a0.js";import{r as A}from"./index.30c3bc24.js";import{$ as b}from"./index.module.91792b7b.js";function S(e,n,{checkForDefaultPrevented:s=!0}={}){return a(function(o){if(e==null||e(o),s===!1||!o.defaultPrevented)return n==null?void 0:n(o)},"handleEvent")}a(S,"$e42e1063c40fb3ef$export$b9ecd428b558ff10");const v=Boolean(globalThis==null?void 0:globalThis.document)?c.exports.useLayoutEffect:()=>{};function x(e){const n=c.exports.useRef(e);return c.exports.useEffect(()=>{n.current=e}),c.exports.useMemo(()=>(...s)=>{var t;return(t=n.current)===null||t===void 0?void 0:t.call(n,...s)},[])}a(x,"$b1b2314f5f9a1d84$export$25bec8c6f54ee79a");function I({prop:e,defaultProp:n,onChange:s=a(()=>{},"onChange")}){const[t,o]=P({defaultProp:n,onChange:s}),u=e!==void 0,m=u?e:t,d=x(s),i=c.exports.useCallback(r=>{if(u){const f=typeof r=="function"?r(e):r;f!==e&&d(f)}else o(r)},[u,e,o,d]);return[m,i]}a(I,"$71cd76cc60e0454e$export$6f32135080cb4c3");function P({defaultProp:e,onChange:n}){const s=c.exports.useState(e),[t]=s,o=c.exports.useRef(t),u=x(n);return c.exports.useEffect(()=>{o.current!==t&&(u(t),o.current=t)},[t,o,u]),s}a(P,"$71cd76cc60e0454e$var$useUncontrolledState");function T(e,n){return c.exports.useReducer((s,t)=>{const o=n[s][t];return o!=null?o:s},e)}a(T,"$fe963b355347cc68$export$3e6543de14f8614f");const M=a(e=>{const{present:n,children:s}=e,t=g(n),o=typeof s=="function"?s({present:t.isPresent}):c.exports.Children.only(s),u=b(t.ref,o.ref);return typeof s=="function"||t.isPresent?c.exports.cloneElement(o,{ref:u}):null},"$921a889cee6df7e8$export$99c2b779aa4e8b8b");M.displayName="Presence";function g(e){const[n,s]=c.exports.useState(),t=c.exports.useRef({}),o=c.exports.useRef(e),u=c.exports.useRef("none"),m=e?"mounted":"unmounted",[d,i]=T(m,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return c.exports.useEffect(()=>{const r=N(t.current);u.current=d==="mounted"?r:"none"},[d]),v(()=>{const r=t.current,l=o.current;if(l!==e){const $=u.current,p=N(r);e?i("MOUNT"):p==="none"||(r==null?void 0:r.display)==="none"?i("UNMOUNT"):i(l&&$!==p?"ANIMATION_OUT":"UNMOUNT"),o.current=e}},[e,i]),v(()=>{if(n){const r=a(f=>{const p=N(t.current).includes(f.animationName);f.target===n&&p&&A.exports.flushSync(()=>i("ANIMATION_END"))},"handleAnimationEnd"),l=a(f=>{f.target===n&&(u.current=N(t.current))},"handleAnimationStart");return n.addEventListener("animationstart",l),n.addEventListener("animationcancel",r),n.addEventListener("animationend",r),()=>{n.removeEventListener("animationstart",l),n.removeEventListener("animationcancel",r),n.removeEventListener("animationend",r)}}else i("ANIMATION_END")},[n,i]),{isPresent:["mounted","unmountSuspended"].includes(d),ref:c.exports.useCallback(r=>{r&&(t.current=getComputedStyle(r)),s(r)},[])}}a(g,"$921a889cee6df7e8$var$usePresence");function N(e){return(e==null?void 0:e.animationName)||"none"}a(N,"$921a889cee6df7e8$var$getAnimationName");export{x as $,I as a,S as b,M as c,v as d};
//# sourceMappingURL=index.module.4248e7a2.js.map
